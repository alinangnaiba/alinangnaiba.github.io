---
---

<button
  id="theme-toggle"
  type="button"
  class="p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-dark-highlight transition-colors duration-200"
  aria-label="Toggle theme"
>
  <i id="theme-toggle-light-icon" class="ph-fill ph-sun hidden"></i>
  <i id="theme-toggle-dark-icon" class="ph-fill ph-moon hidden"></i>
</button>

<script>
  const themeToggleBtn = document.getElementById('theme-toggle');
  const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
  const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');

  function updateThemeIcon() {
    const isDark = document.documentElement.classList.contains('dark');
    if (themeToggleLightIcon && themeToggleDarkIcon) {
      if (isDark) {
        themeToggleLightIcon.classList.remove('hidden');
        themeToggleDarkIcon.classList.add('hidden');
      } else {
        themeToggleLightIcon.classList.add('hidden');
        themeToggleDarkIcon.classList.remove('hidden');
      }
    }
  }

  updateThemeIcon();

  themeToggleBtn?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateThemeIcon();
  });
</script>
