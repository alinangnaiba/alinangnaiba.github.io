---
import ThemeToggle from './ThemeToggle.astro';
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/90 dark:bg-dark-sidebar/95 backdrop-blur-md shadow-sm border-b border-transparent dark:border-dark-border">
  <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <a href="/" class="text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent">
        Alyn Amarillo
      </a>
      
      <div class="hidden md:flex items-center gap-8">
        <a href="#about" class="nav-link">About</a>
        <a href="#experience" class="nav-link">Experience</a>
        <a href="#skills" class="nav-link">Skills</a>
        <a href="#featured-projects" class="nav-link">Featured</a>
        <a href="#projects" class="nav-link">Projects</a>
        <a href="#contact" class="nav-link">Contact</a>
        <ThemeToggle />
      </div>
      
      <div class="flex md:hidden items-center gap-2">
        <ThemeToggle />
        <button 
          id="mobile-menu-button" 
          class="p-2" 
          aria-label="Toggle mobile menu"
          aria-expanded="false"
          aria-controls="mobile-menu"
        >
          <i class="ph ph-list text-2xl"></i>
        </button>
      </div>
    </div>
    
    <div 
      id="mobile-menu" 
      class="hidden md:hidden pt-4 pb-2"
      role="navigation"
      aria-label="Mobile navigation"
    >
      <a href="#about" class="block py-2 nav-link">About</a>
      <a href="#experience" class="block py-2 nav-link">Experience</a>
      <a href="#skills" class="block py-2 nav-link">Skills</a>
      <a href="#featured-projects" class="block py-2 nav-link">Featured</a>
      <a href="#projects" class="block py-2 nav-link">Projects</a>
      <a href="#contact" class="block py-2 nav-link">Contact</a>
    </div>
  </nav>
</header>

<script>
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  
  mobileMenuButton?.addEventListener('click', () => {
    const isHidden = mobileMenu?.classList.contains('hidden');
    mobileMenu?.classList.toggle('hidden');
    mobileMenuButton?.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
  });
  
  const mobileLinks = mobileMenu?.querySelectorAll('a');
  mobileLinks?.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
      mobileMenuButton?.setAttribute('aria-expanded', 'false');
    });
  });
</script>
